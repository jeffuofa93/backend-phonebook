{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Persons.js","services/phonebook.js","components/Notification.js","App.js","index.js"],"names":["Filter","newFilter","handleFilterChange","TextField","id","label","variant","value","onChange","InputProps","startAdornment","InputAdornment","position","IconButton","PersonForm","addPerson","newName","handleNameChange","newNumber","handleNumberChange","onSubmit","Button","startIcon","fontSize","size","color","type","Person","person","handleDeleteClick","TableRow","TableCell","name","number","onClick","Persons","persons","TableContainer","component","Paper","Table","TableHead","TableBody","map","url","axios","get","then","response","data","newPerson","post","put","delete","Notification","message","status","Alert","severity","useStyles","makeStyles","theme","root","backgroundColor","palette","primary","main","height","App","classes","useState","setPersons","setNewName","setNewNumber","setNewFilter","notificationMessage","setNotificationMessage","notificationStatus","setNotificationStatus","useEffect","getAllPersons","personService","people","resetForm","setNotification","setTimeout","personsToShow","length","filter","toLowerCase","includes","className","Grid","container","direction","justifyContent","alignItems","event","target","preventDefault","some","window","confirm","personId","find","updatedPerson","catch","error","addedPerson","concat","createPerson","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.ab5df3ee.chunk.js","sourcesContent":["import React from \"react\";\nimport { IconButton, InputAdornment, TextField } from \"@material-ui/core\";\nimport SearchIcon from \"@material-ui/icons/Search\";\n\nconst Filter = ({ newFilter, handleFilterChange }) => {\n  return (\n    <div>\n      <TextField\n        id=\"filled-basic\"\n        label=\"Filter shown with\"\n        variant=\"filled\"\n        value={newFilter}\n        onChange={handleFilterChange}\n        InputProps={{\n          startAdornment: (\n            <InputAdornment position=\"start\">\n              <IconButton>\n                <SearchIcon />\n              </IconButton>\n            </InputAdornment>\n          ),\n        }}\n      />\n    </div>\n  );\n};\n\nexport default Filter;\n","import React from \"react\";\nimport {\n  Button,\n  IconButton,\n  InputAdornment,\n  TextField,\n} from \"@material-ui/core\";\nimport PersonAddIcon from \"@material-ui/icons/PersonAdd\";\nimport PhoneIcon from \"@material-ui/icons/Phone\";\nimport TextFieldsIcon from \"@material-ui/icons/TextFields\";\n\nconst PersonForm = ({\n  addPerson,\n  newName,\n  handleNameChange,\n  newNumber,\n  handleNumberChange,\n}) => {\n  return (\n    <div>\n      <form onSubmit={addPerson}>\n        <div>\n          <TextField\n            id=\"filled-basic\"\n            label=\"Name:\"\n            variant=\"filled\"\n            value={newName}\n            onChange={handleNameChange}\n            InputProps={{\n              startAdornment: (\n                <InputAdornment position=\"start\">\n                  <IconButton>\n                    <TextFieldsIcon />\n                  </IconButton>\n                </InputAdornment>\n              ),\n            }}\n          />\n          <div>\n            <TextField\n              id=\"filled-basic\"\n              label=\"Number:\"\n              variant=\"filled\"\n              value={newNumber}\n              onChange={handleNumberChange}\n              InputProps={{\n                startAdornment: (\n                  <InputAdornment position=\"start\">\n                    <IconButton>\n                      <PhoneIcon />\n                    </IconButton>\n                  </InputAdornment>\n                ),\n              }}\n            />\n          </div>\n          <div>\n            <Button\n              startIcon={<PersonAddIcon fontSize=\"small\" />}\n              size=\"small\"\n              variant=\"contained\"\n              color=\"primary\"\n              type=\"submit\"\n            >\n              Add\n            </Button>\n          </div>\n        </div>\n      </form>\n    </div>\n  );\n};\n\nexport default PersonForm;\n","import React from \"react\";\nimport {\n  Button,\n  makeStyles,\n  Paper,\n  Table,\n  TableBody,\n  TableCell,\n  TableContainer,\n  TableHead,\n  TableRow,\n} from \"@material-ui/core\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\n// const useStyles = makeStyles({\n//   table: {\n//     color: \"primary\",\n//     b: 650,\n//   },\n// });\n\nconst Persons = ({ persons, handleDeleteClick }) => {\n  // const classes = useStyles();\n  return (\n    <div>\n      <TableContainer component={Paper}>\n        <Table>\n          <TableHead>\n            <TableRow>\n              <TableCell>Name</TableCell>\n              <TableCell>Number</TableCell>\n              <TableCell>Delete</TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {persons.map((person) => (\n              <Person\n                key={person.name}\n                person={person}\n                handleDeleteClick={handleDeleteClick}\n              />\n            ))}\n          </TableBody>\n        </Table>\n      </TableContainer>\n    </div>\n  );\n};\n\nconst Person = ({ person, handleDeleteClick }) => {\n  return (\n    <>\n      <TableRow>\n        <TableCell>{person.name}</TableCell>\n        <TableCell>{person.number}</TableCell>\n        <TableCell>\n          <Button\n            startIcon={<DeleteIcon />}\n            size=\"small\"\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={() => handleDeleteClick(person)}\n          />\n        </TableCell>\n      </TableRow>\n    </>\n  );\n};\n\nexport default Persons;\n","import axios from \"axios\";\n\nconst url = \"api/persons\";\n\nconst getAll = () => {\n  const request = axios.get(url);\n  return request.then((response) => response.data);\n};\n\nconst create = (newPerson) => {\n  const request = axios.post(url, newPerson);\n  return request.then((response) => response.data);\n};\n\nconst update = (id, newPerson) => {\n  const request = axios.put(`${url}/${id}`, newPerson);\n  return request.then((response) => response.data);\n};\n\nconst remove = (id) => {\n  const request = axios.delete(`${url}/${id}`);\n  return request.then(() => true);\n};\n\nexport default { getAll, create, update, remove };\n\n// import axios from \"axios\";\n// const baseUrl = \"http://localhost:3001/notes\";\n//\n// const getAll = () => {\n//   const request = axios.get(baseUrl);\n//   return request.then((response) => response.data);\n// };\n//\n// const create = (newObject) => {\n//   const request = axios.post(baseUrl, newObject);\n//   return request.then((response) => response.data);\n// };\n//\n// const update = (id, newObject) => {\n//   const request = axios.put(`${baseUrl}/${id}`, newObject);\n//   return request.then((response) => response.data);\n// };\n//\n// export default { getAll, create, update };\n","import React from \"react\";\nimport { Alert } from \"@material-ui/lab\";\n\nconst Notification = ({ message,status}) => {\n  if (message === null) {\n    return null;\n  }\n\n  return (\n    <Alert variant=\"filled\" severity={status === 'success' ? 'success' : 'error'}>\n      {message}\n    </Alert>\n  );\n};\n\nexport default Notification;\n","import React, {useEffect, useState} from \"react\";\nimport Filter from \"./components/Filter\";\nimport PersonForm from \"./components/PersonForm\";\nimport Persons from \"./components/Persons\";\nimport personService from \"./services/phonebook\";\nimport {Grid, makeStyles} from \"@material-ui/core\";\nimport Notification from \"./components/Notification\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    backgroundColor: theme.palette.primary.main,\n    height: \"100vh\",\n  },\n}));\n\nconst App = () => {\n  const classes = useStyles();\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState(\"\");\n  const [newNumber, setNewNumber] = useState(\"\");\n  const [newFilter, setNewFilter] = useState(\"\");\n  const [notificationMessage, setNotificationMessage] = useState(null);\n  const [notificationStatus, setNotificationStatus] = useState(null);\n\n  useEffect(() => {\n    getAllPersons();\n  }, []);\n\n  const getAllPersons = () => {\n    personService.getAll().then((people) => setPersons(people));\n  };\n\n  const resetForm = () => {\n    setNewName(\"\");\n    setNewNumber(\"\");\n  };\n\n  const setNotification = (message, status) => {\n    setNotificationMessage(message);\n    setNotificationStatus(status);\n    setTimeout(() => {\n      setNotificationMessage(null);\n    }, 5000);\n  };\n\n  const createPerson = (newPerson) => {\n    personService\n      .create(newPerson)\n      .then((addedPerson) => {\n        setNotification(`Added ${addedPerson.name}`, \"success\");\n        setPersons(persons.concat(addedPerson));\n        resetForm();\n      })\n      .catch((error) => {\n        setNotification(error.response.data.error, \"error\");\n      });\n  };\n\n  const updatePerson = (id, newPersonObject) => {\n    personService\n      .update(id, newPersonObject)\n      .then((updatedPerson) => {\n        setNotification(`Updated ${updatedPerson.name}`, \"success\");\n        setPersons(\n          persons.map((person) => (person.id !== id ? person : updatedPerson))\n        );\n        resetForm();\n      })\n      .catch((error) => {\n        setNotification(error.response.data.error, \"error\");\n      })\n  };\n\n  // const addPerson = (event) => {\n  //   event.preventDefault();\n  //   const newPerson = { name: newName, number: newNumber };\n  //   const duplicateName = persons.find((person) =>\n  //     person.name.includes(newPerson.name)\n  //   );\n  //\n  //   if (\n  //     duplicateName &&\n  //     window.confirm(\n  //       `${newPerson.name} is already in the phonebook, replace the old number with a new one?`\n  //     )\n  //   ) {\n  //     personService\n  //       .update(duplicateName.id, newPerson)\n  //       .then((returnedPerson) => {\n  //         setPersons(\n  //           persons.map((person) =>\n  //             person.id !== duplicateName.id ? person : returnedPerson\n  //           )\n  //         );\n  //       })\n  //       .catch((error) => {\n  //         console.log(error.response.data.error);\n  //         setNotificationMessage(error.response.data.error);\n  //         setTimeout(() => {\n  //           setNotificationMessage(null);\n  //         }, 5000);\n  //       });\n  //   } else {\n  //     personService\n  //       .create(newPerson)\n  //       .then((returnedPerson) => setPersons(persons.concat(returnedPerson)))\n  //       .catch((error) => {\n  //         console.log(error.response.data.error);\n  //         setNotificationMessage(error.response.data.error);\n  //         setTimeout(() => {\n  //           setNotificationMessage(null);\n  //         }, 5000);\n  //       });\n  //   }\n  //\n  //   setNewName(\"\");\n  //   setNewNumber(\"\");\n  // };\n\n  const addPerson = (event) => {\n    event.preventDefault();\n    const newPerson = {name: newName, number: newNumber};\n    const duplicateName = persons.some((person) => person.name.toLowerCase() === newName.toLowerCase());\n    if (duplicateName) {\n      if (window.confirm(`${newPerson.name} is already in the phonebook, replace the old number with a new one?`)) {\n        const personId = persons.find((person) => person.name.toLowerCase() === newName.toLowerCase()).id;\n        updatePerson(personId, newPerson);\n      }\n      return;\n    }\n    createPerson(newPerson);\n  };\n\n  const handleDeleteClick = (person) => {\n    if (!window.confirm(`Delete ${person.name}?`)) return;\n    personService.remove(person.id).then(() => {\n      setPersons(persons.filter((people) => people.id !== person.id));\n    });\n  };\n\n  const handleNameChange = (event) => setNewName(event.target.value);\n  const handleNumberChange = (event) => setNewNumber(event.target.value);\n  const handleFilterChange = (event) => setNewFilter(event.target.value);\n\n  const personsToShow =\n    persons.length === 0\n      ? persons\n      : persons.filter((person) =>\n        person.name.toLowerCase().includes(newFilter.toLowerCase())\n      );\n\n  return (\n    <div className={classes.root}>\n      <Grid\n        container\n        direction=\"column\"\n        justifyContent=\"center\"\n        alignItems=\"center\"\n      >\n        <h1>Phonebook</h1>\n        <Notification message={notificationMessage} status={notificationStatus}/>\n        <Filter newFilter={newFilter} handleFilterChange={handleFilterChange}/>\n        <h2>Add a new Number</h2>\n        <PersonForm\n          addPerson={addPerson}\n          handleNameChange={handleNameChange}\n          handleNumberChange={handleNumberChange}\n          newName={newName}\n          newNumber={newNumber}\n        />\n        <h2>Numbers</h2>\n        <Persons\n          persons={personsToShow}\n          handleDeleteClick={handleDeleteClick}\n        />\n      </Grid>\n    </div>\n  );\n};\n\nexport default App;\n","import ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}